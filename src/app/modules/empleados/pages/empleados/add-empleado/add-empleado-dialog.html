<div mat-dialog-content class="texto">
    <h5 class="card-title">Registrar Empleado</h5>
    <mat-divider></mat-divider>
    <br>
    <form class="row g-3 needs-validation" [formGroup]="myForm" (ngSubmit)="submitFormulario()" validate>
        <div class="col-md-3">
            <label class="form-label texto">Nombre</label>
            <input type="text" class="form-control" [class.is-invalid]="f.nombre.errors && f.nombre.touched"
                formControlName="nombre" id="nombre" required>
            <div class="invalid-feedback">
                Ingrese un nombre válido
            </div>
        </div>
        <div class="col-md-3">
            <label class="form-label">Primer Apellido</label>
            <input type="text" class="form-control" [class.is-invalid]="f.apellido.errors && f.apellido.touched"
                formControlName="apellido" id="apellido" required>
            <div class="invalid-feedback">
                Ingrese un apellido válido
            </div>
        </div>
        <div class="col-md-3">
            <label class="form-label">Segundo Apellido</label>
            <input type="text" class="form-control" [class.is-invalid]="f.apellido_2.errors && f.apellido_2.touched"
                formControlName="apellido_2" id="apellido_2" required>
            <div class="invalid-feedback">
                Ingrese un apellido válido
            </div>
        </div>
        <div class="col-md-3">
            <label class="form-label">Fecha de Nacimiento</label>
            <input type="text" bsDatepicker class="form-control" formControlName="fecha_nacimient"
                [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', showWeekNumbers: false }"
                (keypress)="onValueChanges($event)"
                [class.is-invalid]="f.fecha_nacimient.errors && (f.fecha_nacimient.dirty || f.fecha_nacimient.touched)"
                placeholder="dd/mm/yyyy" [maxDate]="fechamin" [minDate]="fechamac" required>
            <div class="invalid-feedback">
                Ingrese una fecha válida
            </div>
        </div>
        <div class="col-md-3">
            <label class="form-label">Cédula</label>
            <input type="text" class="form-control" formControlName="cedula" id="cedula" maxlength="10"
                [class.is-invalid]="f.cedula.errors && f.cedula.touched" required>
            <div class="invalid-feedback">
                Cédula Invalida
            </div>
        </div>
        <div class="col-md-3">
            <label class="form-label">Teléfono</label>
            <input type="text" [class.is-invalid]="f.telefono.errors && f.telefono.touched" class="form-control"
                formControlName="telefono" id="telefono" required>
            <div class="invalid-feedback">
                Ingrese un teléfono válido
            </div>
        </div>
        <div class="col-md-3">
            <label class="form-label">Correo</label>
            <input type="email" class="form-control" [class.is-invalid]="f.correo.errors && f.correo.touched"
                formControlName="correo" id="correo" required>
            <div class="invalid-feedback">
                Ingrese un coreo válido.
            </div>
        </div>
        <div class="col-md-3">
            <label for="validationCustom03" class="form-label">Dirección</label>
            <input type="text" class="form-control" [class.is-invalid]="f.direccion.errors && f.direccion.touched"
                formControlName="direccion" id="direccion" required>
            <div class="invalid-feedback">
                Por favor ingrese una dirección
            </div>
        </div>
        <div class="col-md-3">
            <label class="form-label">Cargo</label>
            <select id="puesto" class="form-select" formControlName="puesto" (change)="capturar()">
                <option value="{{dato.descripcion}}" *ngFor="let dato of puestos"
                    [attr.selected]="dato.descripcion === opcionSlect ? true : null">
                    {{dato.descripcion}}
                </option>
            </select>
        </div>
        <div class="col-md-3">
            <label class="form-label">Sueldo</label>
            <input type="number" class="form-control" [value]="sueldo"
                [class.is-invalid]="f.sueldo.errors && f.sueldo.touched" formControlName="sueldo" id="sueldo" required>
            <div class="invalid-feedback">
                Por favor ingrese un sueldo
            </div>
        </div>
        <div class="col-md-3">
            <label class="form-label">Usuario</label>
            <input type="text" [class.is-invalid]="f.usuario.errors && f.usuario.touched || !validauser"
                (keyup)="applyFilter($event)" class="form-control" formControlName="usuario" id="usuario" required>
            <div class="invalid-feedback" *ngIf="validauser">
                Ingrese un usuario válido.
            </div>
            <div class="invalid-feedback" *ngIf="!validauser">
                El usuario ya se encuentra en uso
            </div>
        </div>
        <div class="col-md-3">
            <label class="form-label">Fecha de Ingreso</label>
            <input type="text" bsDatepicker class="form-control" placeholder="dd/mm/yyyy" formControlName="fecha_ingres"
                [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', showWeekNumbers: false }"
                (keypress)="onValueChanges($event)" [placement]="'top'" [minDate]="fechamin"
                [class.is-invalid]="f.fecha_ingres.errors && (f.fecha_ingres.dirty || f.fecha_ingres.touched)" required>
            <div class="invalid-feedback">
                Ingrese una fecha válida
            </div>
        </div>
        <div class="col-12">
            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                <button class="btn btn-danger me-md-2" (click)="onNoClick()" type="button">Cancelar</button>
                <button class="btn btn-primary" type="submit">Registrar</button>
            </div>
        </div>
    </form>
</div>